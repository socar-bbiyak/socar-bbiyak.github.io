---
layout: post
title:  "간단+단단 CI/CD 파이프라인 #구축편"
subtitle: "여러 블록을 이용하여 CI/CD 파이프라인 조립하기"
date: 2022-01-28 09:00:00 +0900
category: devops
background : "/assets/images/cicd-impl-bg.jpg"
author: monsieur
comments: true
tags:
  - devops
  - cicd
---

안녕하세요. 쏘카 클라우드 인프라팀의 DevOps Enginner 무쓔입니다!

본 글에서는 DevOps, Data, Software Engineer 의 숙명 과제인 CI/CD 파이프라인
구축에 대해 이야기해보려고 합니다. 오늘날 파이프라인 구축은 프로젝트 개발에
있어서 필수불가결한 부분이 되었습니다. 한번도 구축하지 않은 사람은 있어도 단
한번만 구축해서 사용하는 사람은 아마도 없을 거라고 생각합니다.

CI/CD 파이프라인은 편리하다는 것 외에도 휴먼에러를 최소화 시켜준다는 큰 장점이
있습니다. 하지만, 초기 세팅에 많은 공수가 들어간다는 단점도 있습니다. 이러한
단점들을 극복할 수 있게 도와주는 개발자 친화적인 DevOps 툴들이 많이 존재합니다.
여러 선택지를 이용하여 특정 상황과 요구 사항에 적합한 CI/CD 파이프라인 구축에
대한 이야기를 풀어보려고 합니다.

---
# 들어가면서

우리가 어렸을 때 혹은 성인이 되어서도 가지고 노는 장난감이 있습니다. 바로
레고(Lego)입니다. 여러 다른 블록을 마음대로 붙여서 원하는 모양으로 만들어낼 수
있는 수준 높은 장난감이죠. 레고를 가지고 노는 것 처럼, 서로 다른 특색과
장단점을 가지고 있는 툴들을 이용하여 파이프라인을 조립해보려고 합니다. 레고에
정답이 없는 것 처럼, 우리가 만들려고 하는 파이프라인에도 정답 대신 가이드만
있을 뿐입니다.

## 정의

본격적으로 이야기를 진행하기 전에 글에서 사용할 용어들을 가볍게
정리해보겠습니다:

- CI(Continuous Integration): 코드 → 서비스로의 지속적인 통합
- CD(Continuous Delivery, Deployment): 서비스 → 운영으로의 지속적인 통합
- Pipeline: 특정 목표를 위해 수행해야 할 일련의 작업 프로세스
- GitOps: Git SCM(Source Code Management) 기반의 서비스 운영 방식

## 해결해야 할 문제

요즘에는 새로운 여러 다양한 DevOps 관련 툴들이 출시되고 지속적으로 발전되고
있습니다. CI/CD 파이프라인 구축에 필요한 여러 좋은 솔루션, 플랫폼, 툴들도
많습니다. 개발 입장에서는 선택지가 많아져서 좋지만, 운영 입장에서는 관리
포인트가 늘어난다는 단점도 있습니다.

쏘카에서는 개발자들이 업무에 필요한 툴, 솔루션들을 자유롭게 사용하고 있습니다.
각 팀에서 사용을 해보고 다 같이 쓸만한 도구들은 전사적으로 공유해서 사용합니다.
BuddyWorks, Jenkins, Rancher, ArgoCD, GitHub Action 등과 같은 여러 제품을
사용하고 있습니다. 쏘카의 개발 조직 규모가 커짐에 따라, 사용하는 제품 숫자도
증가했습니다. 하지만, 운영 배포와 관련되어 있는 CI/CD 환경이 분산되어 있어
아래와 같은 애로 사항에 직면했습니다:

- 배포 모니터링 시스템 분산으로 현황 파악 어려움
- CI/CD 템플릿 부재로 인해 신규 프로젝트 파이프라인 구축에 필요한 공수 큼
<!-- - 표준 없이 팀 별로 진행되는 배포로 인하여 신속한 장애 대응 어려움 -->
- 서비스 배포 전 로드 테스트를 통한 서비스 안정성 테스트 필요

이러한 애로 사항을 개선하기 위해서는 어떠한 것들이 필요한지 정리해보겠습니다:

- 배포 현황을 한번에 파악할 수 있는 모니터링
- GitOps 기반의 CD
- 자동화된 CI/CD
- 템플릿을 이용한 쉬운 파이프라인 구축

앞서 말했다시피, DevOps 풍년입니다. 이러한 애로 사항들을 해결하기 위한 여러
도구들을 올바르게 조합하여 요구 사항에 적합한 쏘카만의 간단+단단 CI/CD
파이프라인을 만들어보려 합니다. 

서론이 길었습니다. 그럼 이제 본격적으로 레고 조립을 시작해봅시다!

---
# 알맹이
## 전반적인 구조

## 무기

## 무기 조합

## 짜잔

---
# 나가면서

## 더 개선할 사항

## 개선할 수 있는 방법

## 다음편(#개선편)에 대한 예고
